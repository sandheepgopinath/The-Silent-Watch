<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Silent Watch</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Lora:ital,wght@0,400..700;1,400..700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow-x: hidden; /* ** CRITICAL FIX for zoom issue ** */
        }
        body {
            font-family: 'Montserrat', sans-serif;
            overflow-y: hidden; /* Start with no scroll, JS will enable it */
            background-color: #11141a;
            color: #d1d5db;
            cursor: default;
        }
        .font-lora { font-family: 'Lora', serif; }
        .font-cinzel { font-family: 'Cinzel', serif; }
        .text-shadow-light { text-shadow: 1px 1px 5px rgba(200, 160, 100, 0.3); }
        .text-shadow-dark { text-shadow: 1px 1px 3px rgba(0,0,0,0.7); }

        /* --- Effects & Animations --- */
        .liquid-glass {
            background: radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.08), transparent 60%), rgba(17, 24, 39, 0.6);
            -webkit-backdrop-filter: blur(16px);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        
        @keyframes emerge {
            from { transform: scale(0.85); filter: blur(25px); opacity: 0; }
            to { transform: scale(1); filter: blur(0); opacity: 1; }
        }
        .emerge-animation {
            animation: emerge 4.5s cubic-bezier(0.25, 1, 0.5, 1) forwards; 
        }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeOut { from { opacity: 1; } to { opacity: 0; } }
        .fade-in { animation: fadeIn 0.5s ease-in-out forwards; }
        .fade-out { animation: fadeOut 0.5s ease-in-out forwards; }
        
        @keyframes quick-flash {
            0%, 100% { opacity: 0; transform: translate(-50%, -50%) scale(0.95); }
            50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1); }
        }
        .flash-text {
            position: absolute; opacity: 0; font-family: 'Lora', serif; font-style: italic;
            color: rgba(200, 200, 200, 0.7); text-shadow: 0 0 5px rgba(255,255,255,0.2);
            animation: quick-flash 3s ease-in-out; /* Slower animation */
            text-align: center;
            width: 90%; /* Prevent overflow on narrow screens */
            max-width: 300px;
        }

        /* --- Particle System --- */
        .particle {
            position: absolute; background-color: rgba(255, 255, 255, 0.2);
            border-radius: 50%; pointer-events: none;
            animation: float 10s infinite ease-in-out alternate;
        }
        @keyframes float {
            0% { transform: translateY(0) translateX(0); opacity: 0.1; }
            50% { transform: translateY(-20px) translateX(10px); opacity: 0.3; }
            100% { transform: translateY(0) translateX(0); opacity: 0.1; }
        }

        /* --- Button Styles --- */
        .enter-button, .case-button {
            background-color: #c0a062; color: #1a202c; transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }
        .enter-button:hover, .case-button:hover {
            background-color: #d4b57a; transform: translateY(-2px) scale(1.02);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }

        /* --- Main Content (Detective's Den) Styles --- */
        #main-content-wrapper {
            background-image: url('https://www.transparenttextures.com/patterns/dark-denim-3.png'), linear-gradient(to bottom, #11141a, #2d3748);
            overflow-y: auto;
        }
        .case-card {
            background-color: rgba(17, 24, 39, 0.7); border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .case-card:hover {
            transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        /* --- Modal Styles --- */
        .modal {
            transition: opacity 0.5s ease-in-out;
        }
        #case-file-content {
            background-size: cover;
            background-position: center;
        }
        .case-file-overlay {
            background-color: rgba(17, 20, 26, 0.9);
            backdrop-filter: blur(4px);
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen relative">

    <audio id="background-music" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/11/21/audio_a217641c2c.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
    </audio>

    <!-- Intro Animation Overlay --><div id="intro-overlay" class="fixed inset-0 flex items-center justify-center z-50">
        <!-- Eye icon and flash text will be injected here by JS -->
    </div>

    <!-- Particle Container --><div id="particle-container" class="absolute inset-0 z-0"></div>

    <!-- Entry Pop-up --><div id="content-box" class="relative z-20 text-center p-8 sm:p-12 rounded-lg max-w-lg mx-4 sm:mx-auto liquid-glass opacity-0">
        <h1 class="font-cinzel text-4xl sm:text-6xl md:text-7xl font-bold text-amber-400 text-shadow-light mb-10 sm:mb-12 tracking-widest">THE SILENT WATCH</h1>
        <a href="#" id="enter-den-btn" class="inline-block py-3 px-10 sm:py-4 sm:px-12 text-lg sm:text-xl font-bold rounded-full enter-button font-montserrat tracking-wider">
            ENTER
        </a>
    </div>

    <!-- Main Detective's Den Content (Initially Hidden) --><div id="main-content-wrapper" class="fixed inset-0 z-10 opacity-0 hidden">
        <div class="min-h-screen w-full flex flex-col items-center p-4 sm:p-8">
            <header class="text-center my-8">
                <h1 class="font-cinzel text-3xl sm:text-5xl md:text-6xl text-amber-400 text-shadow-light tracking-widest">THE SILENT WATCH</h1>
                <p class="font-lora text-base sm:text-lg italic text-slate-300 mt-2">Unraveling the Shadows, One Case at a Time.</p>
            </header>
            
            <main class="w-full max-w-7xl">
                <h2 class="font-lora text-xl sm:text-3xl text-slate-200 border-b-2 border-slate-700 pb-2 mb-8">ACTIVE INVESTIGATIONS</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Case Card 1: Blackwood Manor --><div class="case-card rounded-lg overflow-hidden shadow-lg flex flex-col">
                        <img src="https://raw.githubusercontent.com/sandheepgopinath/The-Silent-Watch/main/Gemini_Generated_Image_9cvz2a9cvz2a9cvz.png" alt="A haunted mansion in the hills" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h2 class="font-lora text-2xl text-slate-100 mb-1">Blackwood Manor</h2>
                            <h3 class="font-cinzel text-lg text-amber-400 mb-2">CASE #BWM-1888</h3>
                            <p class="text-slate-400 text-sm mb-4">STATUS: <span class="font-bold text-red-400">ACTIVE - LEAD DETECTIVE NEEDED</span></p>
                            <p class="text-slate-300 mb-6 flex-grow">An occult historian dead in a legendary haunted manor. Police call it an accident. The shadows whisper otherwise.</p>
                            <a href="#" id="investigate-btn" class="case-button mt-auto text-center font-bold py-2 px-4 rounded-full w-full">INVESTIGATE</a>
                        </div>
                    </div>

                    <!-- Case Card 2: Coming Soon --><div class="case-card rounded-lg overflow-hidden shadow-lg opacity-60 flex flex-col">
                        <img src="https://i.ibb.co/B2C1S2X/Gemini_Generated_Image_9cvz2a9cvz2a9cvz.png" alt="Coming Soon" class="w-full h-48 object-cover">
                        <div class="p-6 flex flex-col flex-grow">
                            <h2 class="font-lora text-2xl text-slate-400 mb-1">Coming Soon</h2>
                            <h3 class="font-cinzel text-lg text-slate-500 mb-2">CLASSIFIED</h3>
                            <p class="text-slate-500 text-sm mb-4">STATUS: ARCHIVED</p>
                            <p class="text-slate-400 mb-6 flex-grow">A new mystery awaits your discerning eye. Prepare for what lies ahead.</p>
                            <span class="mt-auto text-center font-bold py-2 px-4 rounded-full w-full bg-slate-700 text-slate-500 cursor-not-allowed">COMING SOON</span>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Case File Modal (Initially Hidden) --><div id="case-file-modal" class="modal fixed inset-0 z-40 opacity-0 hidden flex items-center justify-center p-4">
        <div id="case-file-content" class="w-full max-w-4xl h-full max-h-[90vh] rounded-lg shadow-2xl relative" style="background-image: url('https://raw.githubusercontent.com/sandheepgopinath/The-Silent-Watch/main/Gemini_Generated_Image_9cvz2a9cvz2a9cvz.png');">
            <div class="case-file-overlay absolute inset-0 rounded-lg overflow-y-auto p-6 sm:p-8 text-slate-200">
                <button id="close-modal-btn" class="absolute top-4 right-4 text-4xl text-slate-400 hover:text-white transition leading-none">&times;</button>
                <h2 class="font-cinzel text-2xl sm:text-4xl text-amber-400 text-shadow-light border-b border-amber-400/20 pb-4 mb-6">INVESTIGATION BRIEF</h2>
                
                <div class="space-y-8 font-lora text-sm sm:text-lg leading-relaxed">
                    <div>
                        <h3 class="font-cinzel text-xl sm:text-2xl text-slate-100 mb-2">BACKGROUND & ACQUISITION</h3>
                        <p>Arjun Rathore’s interest in Blackwood Manor was the culmination of a lifelong obsession with the occult. He considered the legend of the "Lady in White" the most credible and compelling case of a residual haunting in India. The property was located for him by a Bengaluru-based heritage property consultant, a Mr. Alva, who brokered the deal. Six months ago, Rathore purchased the derelict estate from the Wakefield heirs, a British family who had inherited the property and had little interest in its upkeep, for a sum of ₹12 crore. His son, Rohan Rathore, managed the transaction.</p>
                        <p class="mt-4">Upon taking possession, Rathore’s first actions were purely academic. He commissioned a structural survey, had the electrical systems updated, and set up the grand library as his base of operations. The long-serving housekeeper, Mrs. Elara Pinto, was the only original staff member he retained.</p>
                    </div>

                    <div>
                        <h3 class="font-cinzel text-xl sm:text-2xl text-slate-100 mb-2">TIMELINE OF INVESTIGATION</h3>
                        <p><span class="font-bold text-slate-300">Months 1-5:</span> The initial investigation was methodical and open. Rathore spent his time cataloging the manor’s contents and cross-referencing his findings with public records in Bengaluru's archives. He hired investigative journalist Diya Sharma to document this process, believing his work would be a transparent and scholarly pursuit of the truth.</p>
                        <p class="mt-4"><span class="font-bold text-slate-300">The Final Month:</span> Approximately four weeks ago, Rathore’s methodology changed dramatically. After a trip to the city archives, he ceased all public documentation. He became secretive, agitated, and confined himself almost exclusively to the manor's library. It was during this period he hired Madame Seraphina, a psychic medium, claiming he needed her to "attune to the energies" he had uncovered. His team noted he became paranoid, often speaking of "discrepancies" in the official history and a "truth far darker than any ghost story."</p>
                    </div>
                    
                    <div>
                        <h3 class="font-cinzel text-xl sm:text-2xl text-slate-100 mb-2">THE CRIME SCENE</h3>
                        <p>Arjun Rathore was found at the foot of the library's grand staircase. The scene was eerily still, with no signs of a struggle. A half-empty glass of whiskey sat on his desk, and his diary lay open. The victim's eyes were wide, his face a mask of pure terror. Most peculiar was his right hand, clenched so tightly around a small, carved silver serpent that it had to be pried open.</p>
                    </div>

                    <div class="text-center pt-8">
                        <a href="#" id="signup-btn" class="case-button inline-block py-3 px-10 font-bold rounded-full">SIGN UP TO INVESTIGATE</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Signup Warning Modal (Initially Hidden) --><div id="warning-modal" class="modal fixed inset-0 z-50 opacity-0 hidden flex items-center justify-center p-4 liquid-glass">
        <div class="relative w-full max-w-lg bg-slate-900/80 border border-amber-400/20 rounded-lg shadow-2xl p-8 text-center">
             <button id="close-warning-btn" class="absolute top-2 right-4 text-4xl text-slate-400 hover:text-white transition leading-none">&times;</button>
            <h2 class="font-cinzel text-3xl text-amber-400 mb-4">A WORD OF CAUTION</h2>
            <p class="font-lora text-slate-300 leading-relaxed mb-6">This case delves into the shadows where history and myth intertwine. You may encounter what appears to be supernatural forces. You will certainly uncover secrets far scarier than any ghost.</p>
            
            <div class="font-lora text-left text-slate-300 italic my-8">
                <p class="not-italic text-slate-200 mb-4">To solve this, you must answer:</p>
                <ul class="list-disc list-inside space-y-3">
                    <li>What did Arjun Rathore discover in the archives that so drastically changed his behavior?</li>
                    <li>What truly happened on the night of the storm?</li>
                    <li>Is the legend of the ghost real?</li>
                    <li>If this was murder, what was the motive, and who could have done it? Why and how?</li>
                </ul>
            </div>

            <p class="font-lora text-slate-200 font-bold mb-8">But for those who solve it, a recognition awaits that few detectives ever achieve. We salute your bravery.</p>
            <a href="#casefiles" id="proceed-btn" class="case-button inline-block py-3 px-10 font-bold rounded-full">PROCEED</a>
        </div>
    </div>
    
    <!-- Placeholder for Case Files Page -->
    <div id="case-files-page" class="fixed inset-0 z-30 opacity-0 hidden p-8 bg-slate-900 overflow-y-auto">
        <div class="min-h-screen w-full flex flex-col items-center p-4 sm:p-8">
            <h1 class="text-center font-cinzel text-4xl text-amber-400 my-8">Blackwood Manor - Investigation Hub</h1>
            <p class="text-center text-slate-300 max-w-2xl mx-auto">This is your secure portal to the case files. All evidence, interviews, and archived documents will be accessible from here. Your investigation starts now.</p>
             <!-- Future content like suspect interviews, clues etc. will be added here -->
        </div>
    </div>


    <script>
        // --- Particle System Logic ---
        const particleContainer = document.getElementById('particle-container');
        const numParticles = 70; const particles = []; const repelRadius = 150; const repelStrength = 0.02;
        let mouseX = 0; let mouseY = 0;
        function setupParticles() {
            for (let i = 0; i < numParticles; i++) {
                const p = document.createElement('div'); p.classList.add('particle');
                const size = Math.random() * 5 + 3; p.style.width = `${size}px`; p.style.height = `${size}px`;
                p.x = Math.random() * window.innerWidth; p.y = Math.random() * window.innerHeight;
                p.vx = (Math.random() - 0.5) * 0.5; p.vy = (Math.random() - 0.5) * 0.5;
                p.style.left = `${p.x}px`; p.style.top = `${p.y}px`;
                p.style.animationDelay = `${Math.random() * 10}s`; p.style.animationDuration = `${10 + Math.random() * 10}s`;
                particleContainer.appendChild(p); particles.push(p);
            }
            document.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; });
            animateParticles();
        }
        function animateParticles() {
            particles.forEach(p => {
                p.x += p.vx; p.y += p.vy;
                if (p.x < -10) p.x = window.innerWidth + 10; if (p.x > window.innerWidth + 10) p.x = -10;
                if (p.y < -10) p.y = window.innerHeight + 10; if (p.y > window.innerHeight + 10) p.y = -10;
                const dx = p.x - mouseX; const dy = p.y - mouseY; const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < repelRadius) {
                    const angle = Math.atan2(dy, dx); const force = (repelRadius - dist) * repelStrength;
                    p.vx += Math.cos(angle) * force; p.vy += Math.sin(angle) * force;
                }
                p.vx *= 0.99; p.vy *= 0.99;
                p.style.left = `${p.x}px`; p.style.top = `${p.y}px`;
            });
            requestAnimationFrame(animateParticles);
        }

        // --- Main Animation & Interaction Sequence ---
        window.onload = () => {
            setupParticles();
            const introOverlay = document.getElementById('intro-overlay');
            const contentBox = document.getElementById('content-box');
            const mainContent = document.getElementById('main-content-wrapper');
            const enterBtn = document.getElementById('enter-den-btn');
            const investigateBtn = document.getElementById('investigate-btn');
            const caseFileModal = document.getElementById('case-file-modal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const backgroundMusic = document.getElementById('background-music');
            
            const signupBtn = document.getElementById('signup-btn');
            const warningModal = document.getElementById('warning-modal');
            const closeWarningBtn = document.getElementById('close-warning-btn');
            const proceedBtn = document.getElementById('proceed-btn');
            const caseFilesPage = document.getElementById('case-files-page');

            // --- Enhanced Audio Logic ---
            const playMusic = () => {
                backgroundMusic.volume = 0;
                const playPromise = backgroundMusic.play();
                if (playPromise !== undefined) {
                    playPromise.then(_ => {
                        let vol = 0;
                        const fadeAudio = setInterval(() => {
                            if (vol < 0.5) {
                                vol += 0.05;
                                backgroundMusic.volume = vol;
                            } else {
                                clearInterval(fadeAudio);
                            }
                        }, 200);
                    }).catch(error => {
                        console.log("Autoplay was prevented. Audio will start on user click.");
                    });
                }
            };

            const flashTexts = [
                { text: '...taken by the storm...', position: { top: '25%', left: '25%' } },
                { text: '...the shadows whisper...', position: { top: '25%', left: '75%' } },
                { text: 'a symbol of deception...', position: { top: '75%', left: '25%' } },
                { text: '...his face a mask of terror...', position: { top: '75%', left: '75%' } },
                { text: 'CASE #BWM-1888', position: 'random' }
            ];

            // 1. Initial Intro Animation & Attempt to play music
            playMusic();
            
            setTimeout(() => {
                const logo = document.createElement('div');
                logo.innerHTML = `<svg class="w-24 h-24 text-amber-400/70" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>`;
                logo.className = 'opacity-0 fade-in';
                introOverlay.appendChild(logo);
            }, 1000);
            
            setTimeout(() => {
                flashTexts.forEach((item, index) => {
                    setTimeout(() => {
                        const p = document.createElement('p'); 
                        p.textContent = item.text; 
                        p.className = 'flash-text text-base sm:text-xl';
                        
                        let top, left;
                        if (item.position === 'random') {
                             do {
                                top = 20 + Math.random() * 60;
                                left = 20 + Math.random() * 60;
                            } while (top > 40 && top < 60 && left > 40 && left < 60);
                        } else {
                            top = parseInt(item.position.top);
                            left = parseInt(item.position.left);
                        }

                        p.style.top = `${top}%`;
                        p.style.left = `${left}%`;
                        p.style.transform = 'translate(-50%, -50%)';
                        
                        introOverlay.appendChild(p);
                    }, index * 1000); // Slower interval
                });
            }, 3000);

            setTimeout(() => { introOverlay.classList.add('fade-out'); }, 10000);
            
            // 2. Emerge Entry Pop-up
            setTimeout(() => {
                contentBox.classList.add('emerge-animation');
                setTimeout(() => { introOverlay.style.display = 'none'; }, 1500);
            }, 11000);

            // 3. Handle transition to main content
            enterBtn.addEventListener('click', (e) => {
                e.preventDefault();
                if (backgroundMusic.paused) { playMusic(); }
                contentBox.classList.remove('emerge-animation');
                contentBox.classList.add('fade-out');
                setTimeout(() => {
                    contentBox.classList.add('hidden');
                    mainContent.classList.remove('hidden');
                    mainContent.classList.add('fade-in');
                    document.body.style.overflowY = 'auto';
                }, 500);
            });

            // 4. Handle Case File Modals
            investigateBtn.addEventListener('click', (e) => {
                e.preventDefault();
                caseFileModal.classList.remove('hidden');
                setTimeout(() => caseFileModal.classList.remove('opacity-0'), 10);
            });

            closeModalBtn.addEventListener('click', () => {
                caseFileModal.classList.add('opacity-0');
                setTimeout(() => caseFileModal.classList.add('hidden'), 500);
            });
            
            signupBtn.addEventListener('click', (e) => {
                e.preventDefault();
                caseFileModal.classList.add('opacity-0');
                setTimeout(() => caseFileModal.classList.add('hidden'), 500);
                
                warningModal.classList.remove('hidden');
                setTimeout(() => warningModal.classList.remove('opacity-0'), 10);
            });

            closeWarningBtn.addEventListener('click', () => {
                warningModal.classList.add('opacity-0');
                setTimeout(() => warningModal.classList.add('hidden'), 500);
            });
            
            proceedBtn.addEventListener('click', (e) => {
                e.preventDefault();
                warningModal.classList.add('opacity-0');
                mainContent.classList.add('fade-out');
                
                setTimeout(() => {
                    warningModal.classList.add('hidden');
                    mainContent.classList.add('hidden');
                    caseFilesPage.classList.remove('hidden');
                    caseFilesPage.classList.add('fade-in');
                }, 500);
            });

        };
    </script>
</body>
</html>



